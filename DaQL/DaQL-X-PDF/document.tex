\documentclass{article}
\usepackage{relsize}

\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{graphicx}
 
\pagestyle{fancy}
\fancyhf{}
\lhead{Exercise Sheet 5}
\rhead{Tim Schmiedl}
\rfoot{Page \thepage}

\lstset{ 
    language=SQL, % choose the language of the code
    basicstyle=\footnotesize,
    frame=single, 
    keywordstyle=\bfseries, % style for keywords
}

\begin{document}
\title{Data Analysis and Query Languages \\
 Exercise Sheet 5}
\date{\today}
\author{Tim Schmiedl} 
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Exercise 1}

$(R\bowtie^{1,2,3'}_{3=1'})^*$:\\
\\
\begin{tabular}{c|c|c}
1 & 2 & 3'\\
\hline
St. Andrews & Bus Op 1 & London\\
\hline
St. Andrews & Bus Op 1 & Brussels\\
\hline
Edinburgh & Train Op 1 & Brussels\\
\hline
Train Op 1 & part\_of & NatExpress
\end{tabular}\\
\\
\\
$(\bowtie^{1',2,3}_{1=2'}R)^*$:\\
\\
\begin{tabular}{c|c|c}
1' & 2 & 3\\
\hline
St. Andrews & part\_of & NatExpress\\
\hline
Edinburgh & part\_of & EastCost\\
\hline
London & part\_of & Eurostar\\
\end{tabular}\\
\\
\\
Reach $_{\to}$ defined by Left Kleene Closure: $(\bowtie^{1',2,3}_{3'=1}R)^*$\\

\vspace{2cm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Exercise 2}



\vspace{2cm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Exercise 3}
\subsection*{a)}
Best Values
\begin{lstlisting}
CosineSimilarity=true
MinSimilarity=0.5
MinOverlap=10
MinNeighbors=10
Neighbors=25

Metric      Result
------------------
MAE        | 0,799 
Precision  | 0,306 
RMSE       | 1,019 
Recall     |  0,56 
\end{lstlisting}

\subsection*{b)}
u: user with the rating to predict\\
i: neighbors of user u\\
maxN: maximum of neighbors to consider \\
\\
sim(u, i): similarity between u and i\\
avg(u): average rating of user u\\
rating(u): rating for user u\\
\\
$
rating(u) = avg(u) + \frac{\sum\limits_{i=0}^{maxN} (rating(i) - avg(i)) *
sim(u, i)} {\sum\limits_{i=0}^{maxN} |sim(u, i) | }
$

\subsection*{c)}

\end{document}
